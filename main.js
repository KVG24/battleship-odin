(()=>{"use strict";var e={426:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,'body,\nhtml {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    background-color: rgb(33, 44, 68);\n    width: 100vw;\n    height: 100vh;\n    font-family: "Franklin Gothic Medium", "Arial Narrow", Arial, sans-serif;\n    background-position: center;\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-attachment: fixed;\n}\n\n.content {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    height: 100%;\n}\n\nheader {\n    height: 100px;\n    width: 100%;\n    background-color: rgba(46, 61, 94, 0.623);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\nh1 {\n    font-size: 5rem;\n    color: white;\n}\n\nmain {\n    width: 100%;\n}\n\n.game-container,\n.gameboard {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 30px;\n}\n\n.gameboards-container {\n    display: flex;\n    gap: 100px;\n}\n\n#player-one-gameboard,\n#player-two-gameboard,\n.player-gameboard-preview {\n    width: 400px;\n    height: 400px;\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n}\n\n.name {\n    color: white;\n    font-size: 2rem;\n    background-color: rgba(0, 0, 0, 0.8);\n    border-radius: 20px;\n    padding: 10px;\n}\n\n.cell {\n    width: 40px;\n    height: 40px;\n    background-color: white;\n    border: 1px solid black;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: crosshair;\n}\n\n.hit {\n    border: 3px solid red;\n    background-color: rgb(224, 150, 150);\n}\n\n.hover {\n    background-color: rgb(125, 201, 131);\n    border: 2px solid green;\n}\n\n.enemy-cell:hover {\n    background-color: rgb(224, 150, 150);\n}\n\n.enter-name-modal {\n    display: none;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: rgba(25, 36, 59, 0.8);\n    padding: 20px;\n    border: 1px solid white;\n    border-radius: 20px;\n}\n\n.enter-name-modal * {\n    margin: 5px;\n}\n\nbutton {\n    width: 70px;\n    height: 25px;\n    font-size: 1em;\n    font-weight: 800;\n}\n\n.enter-name-modal input {\n    width: 130px;\n    height: 20px;\n    font-size: 1em;\n}\n\nlabel {\n    font-size: 1em;\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.gameboard-preview-modal {\n    display: none;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: rgba(25, 36, 59, 0.808);\n    padding: 10px;\n    border: 1px solid white;\n    border-radius: 20px;\n}\n\n.gameboard-preview-container {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 20px;\n}\n\n.ships-for-placement-container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 800px;\n    height: 200px;\n    border: 1px solid white;\n    border-radius: 20px;\n    padding: 10px;\n}\n\n#placement-message {\n    color: white;\n    font-size: 2em;\n    height: 40px;\n    margin: 10px 0 0 0;\n}\n\n#placement-error {\n    position: absolute;\n    top: 66%;\n    left: 80%;\n    transform: translate(-50%, -50%);\n    font-size: 1.5rem;\n    color: rgb(226, 76, 76);\n    width: 200px;\n    padding: 5px;\n    text-align: center;\n}\n\n.preview {\n    background-color: gray;\n}\n\n.ship {\n    display: flex;\n}\n\n.info {\n    height: 50px;\n}\n\n.buttons button {\n    width: 100px;\n    height: 30px;\n    font-size: 1em;\n}\n\n#info-msg {\n    font-size: 1.5rem;\n    color: white;\n    background-color: rgba(0, 0, 0, 0.8);\n    padding: 10px;\n    border-radius: 20px;\n}\n\nfooter {\n    background-color: rgb(46, 61, 94);\n    width: 100%;\n    height: 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n}\n\nfooter a {\n    color: rgb(128, 234, 248);\n}\n\n.game-over-modal-container {\n    width: 100%;\n    height: 80%;\n    display: none;\n    position: absolute;\n    justify-content: center;\n    align-items: center;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    color: white;\n    background-position: center;\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-attachment: fixed;\n}\n\n.game-over-modal {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(0, 0, 0, 0.8);\n    width: 400px;\n    padding: 20px;\n    border-radius: 20px;\n}\n\n#restart {\n    width: 100px;\n    height: 50px;\n    font-size: 1rem;\n}\n',""]);const s=i},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),n.push(d))}},n}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],d=o[c]||0,p="".concat(c," ").concat(d);o[c]=d+1;var u=t(p),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)n[u].references++,n[u].updater(m);else{var h=a(m,r);r.byIndex=s,n.splice(s,0,{identifier:p,updater:h,references:1})}i.push(p)}return i}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=t(o[i]);n[s].references--}for(var l=r(e,a),c=0;c<o.length;c++){var d=t(o[c]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}o=l}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={id:r,exports:{}};return e[r](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&!e;)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.nc=void 0,(()=>{var e=t(379),n=t.n(e),r=t(795),a=t.n(r),o=t(569),i=t.n(o),s=t(565),l=t.n(s),c=t(216),d=t.n(c),p=t(589),u=t.n(p),m=t(426),h={};h.styleTagTransform=u(),h.setAttributes=l(),h.insert=i().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=d(),n()(m.Z,h),m.Z&&m.Z.locals&&m.Z.locals;class g{constructor(e,n){this.name=e,this.length=n,this.hitNumber=0}hit(){if(!(this.hitNumber<this.length))return!1;this.hitNumber++}isSunk(){return this.hitNumber>=this.length}}class f{constructor(){this.missedAttacks=[],this.ships=[],this.board=Array(10).fill(null).map((()=>Array(10).fill(null)))}placeShip(e,n,t,r){if(!this.isPlacementValid(e,n,t,r))throw new Error("Invalid coordinates");const a=[];for(let o=0;o<e.length;o++)"horizontal"===r?(this.board[n][t+o]=e,a.push([n,t+o])):"vertical"===r&&(this.board[n+o][t]=e,a.push([n+o,t]));this.ships.push({ship:e,coordinates:a})}isPlacementValid(e,n,t,r){for(let a=0;a<e.length;a++){let e="horizontal"===r?n:n+a,o="horizontal"===r?t+a:t;if(null!==this.board[e][o])return!1;for(let n=-1;n<=1;n++)for(let t=-1;t<=1;t++){if(0===n&&0===t)continue;const r=e+n,a=o+t;if(r>=0&&r<10&&a>=0&&a<10&&null!==this.board[r][a])return!1}}return!0}receiveAttack(e,n){const t=this.board[e][n];null===t?(this.missedAttacks.push([e,n]),this.board[e][n]="miss"):"object"==typeof t&&t instanceof g&&(t.hit(),this.board[e][n]="hit")}allShipsSunk(){return this.ships.every((({ship:e})=>e.isSunk()))}}class y{constructor(e,n){this.name=e,this.type=n,this.gameboard=new f}}function b(e,n){let t=!1;for(;!t;){const{x:r,y:a,direction:o}=x();try{e.gameboard.placeShip(n,r,a,o),t=!0}catch(e){continue}}}function x(){const e=Math.random()>.5?"horizontal":"vertical";return{x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random()),direction:e}}const v=document.querySelector(".player-gameboard-preview"),w=v.children,k=document.getElementById("placement-error"),E=document.querySelectorAll(".ship"),C=document.getElementById("corvette"),S=document.getElementById("submarine"),I=document.getElementById("cruiser"),A=document.getElementById("frigate"),$=document.getElementById("carrier");let L,j=0;function z(e){Array.from(w).forEach((n=>{n.addEventListener("dragover",(e=>{!function(e){e.preventDefault();const n=e.target;if(!L)return;const t=L.id;let r=parseInt(n.dataset.x),a=parseInt(n.dataset.y),o=0===j?"horizontal":"vertical",i={corvette:2,submarine:3,cruiser:3,frigate:4,carrier:5}[t];if(!i)return;let s=Array.from(w).filter((e=>"horizontal"===o?e.dataset.y==a&&e.dataset.x>=r&&e.dataset.x<r+i:e.dataset.x==r&&e.dataset.y>=a&&e.dataset.y<a+i));Array.from(w).forEach((e=>e.classList.remove("hover"))),s.forEach((e=>{e.classList.add("hover")}))}(e)})),n.addEventListener("drop",(n=>{!function(e,n){e.preventDefault();const t=e.target,r=L.id;let a=parseInt(t.dataset.x),o=parseInt(t.dataset.y),i=0===j?"horizontal":"vertical";if(r)try{"corvette"===r&&(n.gameboard.placeShip(new g("Corvette",2),o,a,i),C.style.display="none",k.style.display="none"),"submarine"===r&&(n.gameboard.placeShip(new g("Submarine",3),o,a,i),S.style.display="none",k.style.display="none"),"cruiser"===r&&(n.gameboard.placeShip(new g("Cruiser",3),o,a,i),I.style.display="none",k.style.display="none"),"frigate"===r&&(n.gameboard.placeShip(new g("Frigate",4),o,a,i),A.style.display="none",k.style.display="none"),"carrier"===r&&(n.gameboard.placeShip(new g("Carrier",5),o,a,i),$.style.display="none",k.style.display="none"),B(n,v),z(n)}catch(e){console.error("Invalid placement:",e.message),k.style.display="block",k.textContent="Invalid placement"}}(n,e)}))}))}function T(e){L=e.target}function B(e,n){n.replaceChildren(),e.gameboard.board.forEach(((e,t)=>{e.forEach(((e,r)=>{const a=document.createElement("div");a.classList.add("cell"),null===e?a.textContent="":"object"==typeof e?a.style.backgroundColor="gray":"miss"===e?a.textContent="ðŸ«§":"hit"===e&&(a.textContent="ðŸ”¥",a.style.backgroundColor="gray"),a.dataset.x=r,a.dataset.y=t,n.appendChild(a)}))}))}function M(){j=0===j?90:0,E.forEach((e=>e.style.transform=`rotate(${j}deg)`))}const q=t.p+"7b939e5aa357ef3d3418.jpeg",N=document.getElementById("player-one-name"),P=document.getElementById("player-two-name"),F=document.getElementById("player-one-gameboard"),D=document.getElementById("player-two-gameboard"),Z=document.getElementById("info-msg"),O=document.querySelector(".name"),H=document.querySelector(".enter-name-modal"),R=document.getElementById("name"),U=document.getElementById("enter-name-button"),V=document.querySelector(".gameboard-preview-modal"),_=document.querySelector(".player-gameboard-preview"),G=document.getElementById("placement-error"),J=document.getElementById("flip-button"),K=document.getElementById("random-button"),Q=document.getElementById("start-button"),W=document.querySelectorAll(".ship");let X=!0,Y=new y("Human","real"),ee=new y("Computer","computer");function ne(){O.style.display="none",Z.style.display="none",H.style.display="flex",U.addEventListener("click",(()=>{H.style.display="none",Y=new y(`${R.value}`,"real"),ee=new y("Computer","computer"),b(ee,new g("Corvette",2)),b(ee,new g("Submarine",3)),b(ee,new g("Cruiser",3)),b(ee,new g("Frigate",4)),b(ee,new g("Carrier",5)),V.style.display="block",W.forEach((e=>{e.addEventListener("dragstart",T)})),B(Y,_),z(Y),J.addEventListener("click",M),K.addEventListener("click",(()=>{Y.gameboard=new f,W.forEach((e=>e.style.display="none")),b(Y,new g("Corvette",2)),b(Y,new g("Submarine",3)),b(Y,new g("Cruiser",3)),b(Y,new g("Frigate",4)),b(Y,new g("Carrier",5)),B(Y,_)})),Q.addEventListener("click",(()=>{if(Y.gameboard.ships.length<5)return Q.style.border="3px solid red",setTimeout((()=>Q.style.border=""),300),G.style.display="block",void(G.textContent="Place ALL ships");V.style.display="none",N.textContent=Y.name,P.textContent=ee.name,O.style.display="block",F.replaceChildren(),D.replaceChildren(),te(Y,F,ee,D)}))}))}function te(e,n,t,r){const a=e.gameboard.board,o=t.gameboard.board;a.forEach(((e,t)=>{e.forEach(((e,r)=>{const a=document.createElement("div");a.classList.add("cell"),a.textContent="miss"===e?"ðŸ«§":"hit"===e?"ðŸ”¥":"","hit"===e&&(a.style.backgroundColor="gray"),e&&"object"==typeof e&&(a.style.backgroundColor="gray"),a.dataset.x=r,a.dataset.y=t,n.appendChild(a)}))})),o.forEach(((a,o)=>{a.forEach(((a,i)=>{const s=document.createElement("div");s.classList.add("cell"),s.classList.add("enemy-cell"),s.textContent="miss"===a?"ðŸ«§":"hit"===a?"ðŸ”¥":"","hit"===a&&(s.style.backgroundColor="gray"),s.dataset.x=i,s.dataset.y=o,s.addEventListener("click",(()=>{if(!X||"miss"===a||"hit"===a)return;n.replaceChildren(),r.replaceChildren();const s=t.gameboard.missedAttacks.length;t.gameboard.receiveAttack(o,i),te(e,n,t,r);const l=D.querySelector(`[data-x='${i}'][data-y='${o}']`);l.classList.add("hit"),setTimeout((()=>l.classList.remove("hit")),500),Z.style.display="block",Z.textContent=`${e.name} hit ${t.name}'s ship. ${e.name} aiming to fire again`,t.gameboard.missedAttacks.length>s&&(X=!1,Z.textContent=`${e.name} missed. ${t.name} aiming...`,setTimeout((()=>{re(e,n,t,r)}),1e3))})),r.appendChild(s)}))})),[{player:e,gameboardDiv:n},{player:t,gameboardDiv:r}].forEach((({player:e,gameboardDiv:n})=>{e.gameboard.ships.forEach((e=>{e.ship.isSunk()&&e.coordinates.forEach((e=>{const t=e[0],r=e[1],a=n.querySelector(`.cell[data-x="${r}"][data-y="${t}"]`);a&&(a.style.backgroundColor="darkred")}))}))})),function(e,n,t,r){n.gameboard.allShipsSunk()?(setTimeout((()=>Z.textContent=""),0),setTimeout((()=>t.style.display="flex"),500),r.textContent=`${e.name} won!`):e.gameboard.allShipsSunk()&&(setTimeout((()=>Z.textContent=""),0),setTimeout((()=>t.style.display="flex"),500),r.textContent=`${n.name} won!`)}(e,t,ae,oe)}function re(e,n,t,r){let a,o;do{a=Math.floor(10*Math.random()),o=Math.floor(10*Math.random())}while("miss"===e.gameboard.board[o][a]||"hit"===e.gameboard.board[o][a]);n.replaceChildren(),r.replaceChildren();const i=e.gameboard.missedAttacks.length;e.gameboard.receiveAttack(o,a),te(e,n,t,r);const s=F.querySelector(`[data-x='${a}'][data-y='${o}']`);s.classList.add("hit"),setTimeout((()=>s.classList.remove("hit")),500),Z.style.display="block",Z.textContent=`${t.name} missed. ${e.name} aiming...`,e.gameboard.missedAttacks.length==i&&(X=!1,Z.textContent=`${t.name} hit ${e.name}'s ship. ${t.name} aiming to fire again`,setTimeout((()=>{re(e,n,t,r)}),1e3)),X=!0}const ae=document.querySelector(".game-over-modal-container"),oe=document.getElementById("winner-message");ae.style.backgroundImage=`url(${q})`,document.getElementById("restart").addEventListener("click",(function(){F.replaceChildren(),D.replaceChildren(),ae.style.display="none",P.textContent="",X=!0,W.forEach((e=>e.style.display="flex")),ne()}));const ie=t.p+"fa1f8b43be4e87e68e7d.jpeg";document.body.style.backgroundImage=`url(${ie})`,ne()})()})();